<!DOCTYPE html><html lang="zh-CN"><head><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><meta name="author" content="annilq"><title>RxJS 小记 · 小前风</title><meta name="description" content="简单来说 Observable是一个接收observer并且返回一个可用于取消订阅方法的方法下面是一个比较基础的实现123456789function myObservable(observer) &amp;#123;    const datasource = new DataSource();    d"><meta name="keywords"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="renderer" content="webkit"><link rel="short icon" href="/images/logo.jpg" type="image/x-icon"><link rel="stylesheet" href="/css/style.css"><link rel="stylesheet" href="/css/blog_basic.css"><link rel="stylesheet" href="/css/font-awesome.min.css"><link rel="alternate" type="application/atom+xml" title="ATOM 1.0" href="/atom.xml"></head><body><div class="sidebar animated fadeInDown"><div class="logo-title"><div class="title"><img src="/images/logo.jpg" style="width:240px;border-radius:100%"><h3 title=""><a href="/">小前风</a></h3></div></div><ul class="social-links"><li><a href="http://weibo.com/u/1800931304" target="_blank">微博</a></li><li><a href="https://github.com/annilq" target="_blank">Github</a></li><li><a href="https://www.zhihu.com/people/annilq" target="_blank">知乎</a></li></ul><div class="footer"><a target="_blank" href="/"><span>Theme by </span></a><a href="https://www.caicai.me"> CaiCai </a><span>&</span><a href="https://github.com/Ben02/hexo-theme-Anatole"> Ben</a><div class="by_farbox"><a href="https://hexo.io/zh-cn/" target="_blank">Proudly published with Hexo&#65281;</a></div></div></div><div class="main"><div class="page-top animated fadeInDown"><div class="nav"><li><a href="/">首页</a></li><li><a href="/archives">归档</a></li></div><div class="information"><div class="back_btn"><li><a onclick="window.history.go(-1)" class="fa fa-chevron-left"></a></li></div></div></div><div class="autopagerize_page_element"><div class="content"><div class="post-page"><div class="post animated fadeInDown"><div class="post-title"><h3><a>RxJS 小记</a></h3></div><div class="post-content"><h3 id="u7B80_u5355_u6765_u8BF4_Observable_u662F_u4E00_u4E2A_u63A5_u6536observer_u5E76_u4E14_u8FD4_u56DE_u4E00_u4E2A_u53EF_u7528_u4E8E_u53D6_u6D88_u8BA2_u9605_u65B9_u6CD5_u7684_u65B9_u6CD5"><a href="#u7B80_u5355_u6765_u8BF4_Observable_u662F_u4E00_u4E2A_u63A5_u6536observer_u5E76_u4E14_u8FD4_u56DE_u4E00_u4E2A_u53EF_u7528_u4E8E_u53D6_u6D88_u8BA2_u9605_u65B9_u6CD5_u7684_u65B9_u6CD5" class="headerlink" title="简单来说 Observable是一个接收observer并且返回一个可用于取消订阅方法的方法"></a>简单来说 Observable是一个接收observer并且返回一个可用于取消订阅方法的方法</h3><p>下面是一个比较基础的实现<br><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">myObservable</span>(<span class="params">observer</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> datasource = <span class="keyword">new</span> DataSource();</span><br><span class="line">    datasource.ondata = (e) =&gt; observer.next(e);</span><br><span class="line">    datasource.onerror = (err) =&gt; observer.error(err);</span><br><span class="line">    datasource.oncomplete = () =&gt; observer.complete();</span><br><span class="line">    <span class="keyword">return</span> () =&gt; &#123;</span><br><span class="line">        datasource.destroy();</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>一个健全一点的观察者应该保证以下几点</p>
<ol>
<li><code>next</code>，<code>error</code>和<code>complete</code>实际上都是可选的。你不必处理每个值，或错误或完成。</li>
<li>你不能在<code>complete</code>和<code>error</code>之后调用next</li>
<li>调用<code>complete</code>和<code>error</code>后需要调用取消订阅逻辑。</li>
<li>只有执行订阅方法,才会接收到数据源的值</li>
<li>如果你的<code>next</code>,<code>complete</code>或<code>error</code>处理程序抛出一个异常，你想调用你的取消订阅逻辑。</li>
</ol>
<h3 id="u5B9E_u73B0_u4E00_u4E2A_u7C7BRxJS_u9700_u8981_u5B9E_u73B0_u4EE5_u4E0B_u51E0_u90E8_u5206"><a href="#u5B9E_u73B0_u4E00_u4E2A_u7C7BRxJS_u9700_u8981_u5B9E_u73B0_u4EE5_u4E0B_u51E0_u90E8_u5206" class="headerlink" title="实现一个类RxJS需要实现以下几部分"></a>实现一个类RxJS需要实现以下几部分</h3><ol>
<li>数据源</li>
<li>observer</li>
<li>Observable生成器</li>
<li>observable</li>
<li>operator</li>
</ol>
<h4 id="u6570_u636E_u6E90"><a href="#u6570_u636E_u6E90" class="headerlink" title="数据源"></a>数据源</h4><ul>
<li>数据源可以产生数据给observer</li>
</ul>
<h4 id="observer"><a href="#observer" class="headerlink" title="observer"></a>observer</h4><ul>
<li>包含  <code>next</code>, <code>error</code> and <code>complete</code> 属性的对象，用来处理数据源的数据</li>
</ul>
<h4 id="Observable__u751F_u6210_u5668_u51FD_u6570"><a href="#Observable__u751F_u6210_u5668_u51FD_u6570" class="headerlink" title="Observable 生成器函数"></a>Observable 生成器函数</h4><ul>
<li>接收一个observer对象(该observer由observable传入并且经过包装后得到)，并且将observer和数据源关联</li>
</ul>
<h4 id="observable"><a href="#observable" class="headerlink" title="observable"></a>observable</h4><ul>
<li>由Observable生成器函数生成，并带有一个接收observer对象的subscribe方法</li>
</ul>
<h4 id="operator"><a href="#operator" class="headerlink" title="operator"></a>operator</h4><ul>
<li>操作符是一个接收observable并且返回新observable的函数</li>
<li>操作符在做什么：当你订阅它的返回的observable时，它创建一个<code>mapObserver</code>来完成工作并将<code>observer</code>和<code>mapObserver</code>链接在一起。建立operator实际上只是创建一个用于在订阅时连接观察者的模板</li>
</ul>
<h2 id="Observable_u6267_u884C_u987A_u5E8F"><a href="#Observable_u6267_u884C_u987A_u5E8F" class="headerlink" title="Observable执行顺序"></a>Observable执行顺序</h2><ol>
<li>Observable生成器函数生成一个observable</li>
<li>observable调用subscribe时传入一个observer，并返回一个订阅Subscription对象</li>
<li>将observer与数据源关联</li>
<li>数据源发出数据时调用observer相关方法</li>
<li>可以调用订阅对象Subscription的unsubscribe方法取消订阅</li>
</ol>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  -------------------------------DataSource----------------------------</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EventDataSource</span> </span>&#123;</span><br><span class="line">  constructor() &#123;</span><br><span class="line">    <span class="keyword">let</span> i = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">this</span>._id = setInterval(() =&gt; <span class="keyword">this</span>.emit(i++), <span class="number">200</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  emit(n) &#123;</span><br><span class="line">    <span class="keyword">const</span> limit = <span class="number">3</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.ondata) &#123;</span><br><span class="line">      <span class="keyword">this</span>.ondata(n);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (n === limit) &#123;</span><br><span class="line">      <span class="keyword">if</span> (<span class="keyword">this</span>.oncomplete) &#123;</span><br><span class="line">        <span class="keyword">this</span>.oncomplete();</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">this</span>.destroy();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  destroy() &#123;</span><br><span class="line">    clearInterval(<span class="keyword">this</span>._id);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> ArraySource=[<span class="string">"hello"</span>, <span class="string">"annilq"</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> PromiseSource=<span class="built_in">Promise</span>.resolve(<span class="string">"promise"</span>);</span><br><span class="line"><span class="comment">//  -------------------------------DataSource end----------------------------</span></span><br><span class="line"><span class="comment">//  -------------------------------Observable creator----------------------------</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">SafeObserver</span> </span>&#123;</span><br><span class="line">  constructor(destination) &#123;</span><br><span class="line">    <span class="keyword">this</span>.destination = destination;</span><br><span class="line">  &#125;</span><br><span class="line">  next(value) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.isUnsubscribed &amp;&amp; <span class="keyword">this</span>.destination.next) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.destination.next(value);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="keyword">this</span>.unsubscribe();</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  error(err) &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.isUnsubscribed &amp;&amp; <span class="keyword">this</span>.destination.error) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.destination.error(err);</span><br><span class="line">      &#125; <span class="keyword">catch</span> (e2) &#123;</span><br><span class="line">        <span class="keyword">this</span>.unsubscribe();</span><br><span class="line">        <span class="keyword">throw</span> e2;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">this</span>.unsubscribe();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  complete() &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="keyword">this</span>.isUnsubscribed &amp;&amp; <span class="keyword">this</span>.destination.complete) &#123;</span><br><span class="line">      <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="keyword">this</span>.destination.complete();</span><br><span class="line">      &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">        <span class="keyword">this</span>.unsubscribe();</span><br><span class="line">        <span class="keyword">throw</span> err;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">this</span>.unsubscribe();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  unsubscribe() &#123;</span><br><span class="line">    <span class="keyword">this</span>.isUnsubscribed = <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.unsub) &#123;</span><br><span class="line">      <span class="keyword">this</span>.unsub();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Observable</span> </span>&#123;</span><br><span class="line">  constructor(_subscribe) &#123;</span><br><span class="line">    <span class="keyword">this</span>._subscribe = _subscribe;</span><br><span class="line">  &#125;</span><br><span class="line">  subscribe(observer) &#123;</span><br><span class="line">    <span class="keyword">const</span> safeObserver = <span class="keyword">new</span> SafeObserver(observer);</span><br><span class="line">    safeObserver.unsub = <span class="keyword">this</span>._subscribe(safeObserver);</span><br><span class="line">    <span class="keyword">return</span> safeObserver.unsubscribe.bind(safeObserver);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">Observable.from = <span class="function"><span class="keyword">function</span>(<span class="params">arr</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Observable(observer =&gt; &#123;</span><br><span class="line">    arr.forEach(data =&gt; observer.next(data));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">Observable.fromEvent = <span class="function"><span class="keyword">function</span>(<span class="params">EventDataSource</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Observable(observer =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> datasource = <span class="keyword">new</span> EventDataSource();</span><br><span class="line">    datasource.ondata = e =&gt; observer.next(e);</span><br><span class="line">    datasource.onerror = err =&gt; observer.error(err);</span><br><span class="line">    datasource.oncomplete = () =&gt; observer.complete();</span><br><span class="line">    <span class="keyword">return</span> () =&gt; datasource.destroy();</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line">Observable.fromPromise = <span class="function"><span class="keyword">function</span>(<span class="params">promise</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Observable(observer =&gt; &#123;</span><br><span class="line">    promise.then(data =&gt; observer.next(data));</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ----------------------------------observable end----------------------------------</span></span><br><span class="line"><span class="comment">// ----------------------------------Operators----------------------------------</span></span><br><span class="line"><span class="comment">// “运算符”返回个新的可观察对象，当您订阅它时,它将订阅该可观察对象</span></span><br><span class="line">Observable.prototype.map = <span class="function"><span class="keyword">function</span>(<span class="params">project</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> Observable(observer =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> mapObserver = &#123;</span><br><span class="line">      next: x =&gt; observer.next(project(x)),</span><br><span class="line">      error: err =&gt; observer.error(err),</span><br><span class="line">      complete: () =&gt; observer.complete()</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.subscribe(mapObserver);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">// ----------------------------------Operators end-------------------------</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ----------------------------------usage----------------------------------</span></span><br><span class="line"><span class="keyword">const</span> myObservable = <span class="keyword">new</span> Observable(observer =&gt; &#123;</span><br><span class="line">  <span class="keyword">const</span> datasource = <span class="keyword">new</span> EventDataSource();</span><br><span class="line">  datasource.ondata = e =&gt; observer.next(e);</span><br><span class="line">  datasource.onerror = err =&gt; observer.error(err);</span><br><span class="line">  datasource.oncomplete = () =&gt; observer.complete();</span><br><span class="line">  <span class="keyword">return</span> () =&gt; datasource.destroy();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> myObservable1 = Observable.fromEvent(EventDataSource);</span><br><span class="line"><span class="keyword">const</span> myObservable2 = Observable.from(ArraySource);</span><br><span class="line"><span class="keyword">const</span> myObservable3 = Observable.fromPromise(PromiseSource);</span><br><span class="line">myObservable.map(x =&gt; x + x).subscribe(&#123;</span><br><span class="line">  next(x) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">myObservable1.subscribe(&#123;</span><br><span class="line">  next(x) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">myObservable2.subscribe(&#123;</span><br><span class="line">  next(x) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line">myObservable3.subscribe(&#123;</span><br><span class="line">  next(x) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(x);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h3 id="RxJS_u5B9E_u73B0_u4E2D_u6D89_u53CA_u7684_u51E0_u4E2A_u6982_u5FF5_uFF1A"><a href="#RxJS_u5B9E_u73B0_u4E2D_u6D89_u53CA_u7684_u51E0_u4E2A_u6982_u5FF5_uFF1A" class="headerlink" title="RxJS实现中涉及的几个概念："></a>RxJS实现中涉及的几个概念：</h3><ol>
<li>Observable (可观察对象): 表示一个概念，这个概念是一个可调用的未来值或事件的集合。</li>
<li>Observer (观察者): 一个回调函数的集合，它知道如何去监听由 Observable 提供的值。</li>
<li>Subscription (订阅): 表示 Observable 的执行，主要用于取消 Observable 的执行。</li>
<li>Operators (操作符): 采用函数式编程风格的纯函数 (pure function)，使用像 map、filter、concat、flatMap 等这样的操作符来处理集合。</li>
<li>Subject (主体): 相当于 EventEmitter，并且是将值或事件多路推送给多个 Observer 的唯一方式。</li>
<li>Schedulers (调度器): 用来控制并发并且是中央集权的调度员，允许我们在发生计算时进行协调，例如 setTimeout 或 requestAnimationFrame 或其他。</li>
</ol>
<h3 id="u53C2_u8003"><a href="#u53C2_u8003" class="headerlink" title="参考"></a>参考</h3><ul>
<li><a href="https://medium.com/@benlesh/learning-observable-by-building-observable-d5da57405d87" target="_blank" rel="external">Learning Observable By Building Observable – Ben Lesh – Medium</a></li>
<li><a href="http://cn.rx.js.org/manual/overview.html" target="_blank" rel="external">RxJS入门</a></li>
</ul>
</div><div class="post-footer"><div class="meta"><div class="info"><i class="fa fa-sun-o"></i><span class="date">2017-11-09</span><i class="fa fa-tag"></i><a href="/tags/RxJS-observable/" title="RxJS observable" class="tag">RxJS observable </a></div></div></div></div><div class="pagination"><ul class="clearfix"><li class="next pagbuttons"><a role="navigation" href="/2017/10/11/observable-pattern/" title="observer pattern小记" class="btn">下一篇</a></li></ul></div></div></div></div></div><script src="/js/jquery.js"></script><script src="/js/jquery-migrate-1.2.1.min.js"></script><script src="/js/jquery.appear.js"></script></body></html>